<div class="container" id="container1">
    <div class="center-content" *ngIf="alertMessage !== ''">
        <ngb-alert [type]="alertConfig.type" [dismissible]="alertConfig.dismissible" (close)="alertMessage=''">
            {{alertMessage}}
        </ngb-alert>
    </div>

    <input type="text" class="form-control mb-2 search" placeholder="Buscar Articulo" #txtSearch
        (keyup)="onSearchArticle( txtSearch.value )" />
    <div *ngIf='loading == true' class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75"
            aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>
    <div *ngIf='loading == false'>
        <button class="btn btn-primary" (click)="prevPage()">
            Anteriores
        </button>
        &nbsp;
        <button class="btn btn-primary" (click)="nextPage()"
            [disabled]="(allArticles | filterArticle:page:filterArticle).length === 0">
            Siguientes
        </button>
        &nbsp;
        <button class="btn btn-primary" (click)="ocultar()">
            ocultar
        </button>


        <table class="table" id="table1">
            <thead>
                <tr>
                    <th>id</th>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th>Movimiento</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of allArticles | filterArticle:page:filterArticle" [ngStyle]="{ 'height': '70px'}">
                    <td>{{item.idArticulo}}</td>
                    <td>{{item.arNombre}}</td>
                    <td>{{item.arDescripcion}}</td>
                    <td><button class="btn btn-lg btn-outline-primary" (click)="open(mymodal, item)">...</button></td>
                    <!-- <td>
                        <form [formGroup]="movementForm" (ngSubmit)="addMovement(item)" autocomplete="off" [ngStyle]="{'display': 'flex',
                        'justify-content': 'space-between'}">
                            <label class="radio-inline">
                                <input formControlName='movimiento' type="radio" name="movimiento" value="No hay stock"
                                    required>
                                No Hay Stock</label>
                            <label class="radio-inline">
                                <input formControlName='movimiento' type="radio" name="movimiento"
                                    value="Figura pero no aparece" required>
                                Figura Pero No Aparece
                            </label>
                            <button type="submit" class="btn btn-outline-dark">Guardar</button>

                        </form>
                    </td> -->
                </tr>
            </tbody>
        </table>
    </div>
</div>
<!-- <ng-template #mymodal let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Bootstrap Modal</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">Ã—</span>
            </button>
        </div>
        <div class="modal-body">
            <tr *ngFor="let item of modal">
                <td>{{item.idArticulo}}</td>
                <td>{{item.arNombre}}</td>
                <td>{{item.arDescripcion}}</td>
            </tr>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Ok</button>
        </div>
    </ng-template> -->
<div class="container">
    <h2 *ngIf='loading == false'>Movimientos: </h2>

    <div class="row" *ngIf='loading == false'>
        <input type="text" class="form-control mb-2 search" placeholder="Buscar Articulo" #txtSearchMovement
            (keyup)="onSearchMovement( txtSearchMovement.value )" />
    </div>

    <div *ngIf='loading == false'>
        <button class="btn btn-primary" (click)="prevPageMovement()">
            Anteriores
        </button>
        &nbsp;
        <button class="btn btn-primary" (click)="nextPageMovement()"
            [disabled]="(allMovement | filterMovement:pageMovement:filterMovement).length === 0">
            Siguientes
        </button>
        &nbsp;
        <button class="btn btn-primary" (click)="getAllMovement()">
            Actualizar
        </button>


        <table class="table">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>id</th>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th>Moviemiento</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of allMovement | filterMovement:pageMovement:filterMovement"
                    [ngStyle]="{ 'height': '70px'}">
                    <td>{{item.creationDate}}</td>
                    <td>{{item.idArticle}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.description}}</td>
                    <td>{{item.movement}}</td>
                    <td><button class="btn btn-lg btn-outline-primary" (click)="delete(item)">Eliminar</button></td>
                    <!-- <td><button class="btn btn-lg btn-outline-primary" (click)="edit(mymodal, item)">Editar</button></td> -->
                </tr>
            </tbody>
        </table>
    </div>
</div>